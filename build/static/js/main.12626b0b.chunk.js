(this["webpackJsonptraffic-vis-fe"]=this["webpackJsonptraffic-vis-fe"]||[]).push([[0],{391:function(t,e,a){t.exports=a(767)},396:function(t,e,a){},397:function(t,e,a){},692:function(t,e,a){},719:function(t,e,a){},721:function(t,e,a){},743:function(t,e,a){},747:function(t,e,a){},767:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),r=a(20),o=a.n(r),s=(a(396),a(38)),l=a(39),c=a(53),p=a(52),m=a(769),h=a(244),u=a(363),d=a(118),y=a(44),b=(a(397),a(778)),g=a(781),f=a(777),x=a(779),v=a(775),O=a(776),E=a(780),k=a(365),j=a(25),L=a(771),w=a(74),P=a.n(w),D=a(40),C=a.n(D);a(154),a(692);function I(t){var e=t.split("_")[0].split("-").concat(t.split("_")[1].split("-"));return{year:parseInt(e[0]),month:parseInt(e[1]),day:parseInt(e[2]),hour:parseInt(e[3]),minute:parseInt(e[4])}}function S(t,e){for(var a,n=[],i=t;i<=e;){n.push(i+".json");var r=I(i);r.minute+1>59?(r.minute=0,r.hour+=1):r.minute+=1,a=r,i=String(a.year)+"-"+("0"+String(a.month)).slice(-2)+"-"+("0"+String(a.day)).slice(-2)+"_"+("0"+String(a.hour)).slice(-2)+"-"+("0"+String(a.minute)).slice(-2)}return n}function T(t,e){var a=Date.now();return function(){var n=this,i=arguments,r=Date.now();r-a>=e&&(t.apply(n,i),a=Date.now())}}function z(t,e){var a=null;return function(){var n=this,i=arguments;clearTimeout(a),a=setTimeout((function(){t.apply(n,i)}),e)}}function A(t){for(var e=0,a=t.length;e<a;e++)switch(t[e][2]){case 3:t[e][2]=150;break;case 7:t[e][2]=175;break;case 10:t[e][2]=200}return t}var B,N,M=L.a.Option,_=function(t){Object(c.a)(a,t);var e=Object(p.a)(a);function a(t){var n;return Object(s.a)(this,a),(n=e.call(this,t)).move_fly=function(t,e,a,i,r,o,s){n.nowMapParam={zoom:n.mapbox.getZoom(),center:[n.mapbox.getCenter().lng,n.mapbox.getCenter().lat],bearing:n.mapbox.getBearing(),pitch:n.mapbox.getPitch()},e===n.nowMapParam.center[0]&&a===n.nowMapParam.center[1]&&i===n.nowMapParam.zoom&&r===n.nowMapParam.pitch&&o===n.nowMapParam.bearing||t.easeTo({center:[e,a],zoom:i,pitch:r,bearing:o,duration:s,maxDuration:s,easing:function(t){return t},animate:!0})},n.showmapbox=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";P.a.accessToken="pk.eyJ1IjoiaHVzdDEyIiwiYSI6ImNrM3BpbDhsYTAzbDgzY3J2OXBzdXFuNDMifQ.bDD9-o_SB4fR0UXzYLy9gg",n.myChartGl=C.a.init(document.getElementById(n.props.mapContainerID)),n.myChartGl.setOption({title:{text:n.state.titleText,padding:20,subtext:e||"",subtextStyle:{color:"black",fontStyle:"normal",fontWeight:"bold",fontFamily:"san-serif",fontSize:16}},visualMap:{type:"piecewise",categories:["\u62e5\u5835","\u7f13\u884c","\u901a\u7545"],show:!0,calculable:!0,realtime:!0,hoverLink:!0,left:20,bottom:40,dimension:2,color:["red","#eac736","green"],pieces:[{value:150,label:"\u901a\u7545",color:"#369674"},{value:175,label:"\u7f13\u884c",color:"#feb64d"},{value:200,label:"\u62e5\u5835",color:"red"}],min:100,max:500},mapbox3D:n.state.mapParam?n.state.mapParam:{style:"mapbox://styles/mapbox/outdoors-v11",center:[116.368608,39.901744],zoom:10,pitch:60,bearing:-30},series:[{type:"bar3D",coordinateSystem:"mapbox3D",data:t||[],shading:"color",minHeight:100,maxHeight:500,barSize:.1,silent:!0}]}),n.mapbox=n.myChartGl.getModel().getComponent("mapbox3D").getMapbox(),n.mapbox.setMinZoom(10),n.mapbox.setMaxZoom(16),n.mapbox.addControl(new P.a.NavigationControl({showZoom:!0,showCompass:!0,visualizePitch:!0}),"top-right"),n.mapbox.addControl(new P.a.ScaleControl({maxWidth:80,unit:"metric"}),"bottom-right"),n.mapbox.on("mousemove",(function(){var t=n.mapbox.getZoom(),e=[n.mapbox.getCenter().lng,n.mapbox.getCenter().lat],a=n.mapbox.getBearing(),i=n.mapbox.getPitch();n.props.asyncParam&&(n.asyncParam.center[0]==e[0]&&n.asyncParam.center[1]==e[1]&&n.asyncParam.zoom==t&&n.asyncParam.bearing==a&&n.asyncParam.pitch==i||(n.asyncParam.center=e,n.asyncParam.zoom=t,n.asyncParam.bearing=a,n.asyncParam.pitch=i,n.props.asyncParam(n.asyncParam)))}))},n.mapStyleChange=function(t){var e="mapbox://styles/mapbox/"+t+"-v9";n.mapbox.setStyle(e)},n.state={titleText:n.props.titleText,mapParam:n.props.chartsParam.mapParam?n.props.chartsParam.mapParam:null},n.myChartGl=null,n.mapbox=null,window.mapboxgl=P.a,n.asyncParam={center:[116.368608,39.901744],zoom:10,pitch:60,bearing:-30},n.showmapbox=n.showmapbox.bind(Object(j.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var t=this;this.showmapbox(this.props.data.data,this.props.data.datatime),window.onresize=function(){t.myChartGl.resize()}}},{key:"componentDidUpdate",value:function(){var t=this.props.data.data,e=this.props.data.datatime,a=this.props.asyncParam?this.props.chartsParam.mapParam:null,n={title:{text:this.props.titleText,subtext:e||""},series:[{data:t||[],barSize:.1*Math.pow(2,this.mapbox.getZoom()-10)}]};a&&(n.mapbox3D={center:a.center,zoom:a.zoom,pitch:a.pitch,bearing:a.bearing}),this.myChartGl.setOption(n);var i=this.props.flyActionParam;i&&this.move_fly.apply(this,[this.mapbox].concat(Object(k.a)(i)))}},{key:"componentWillUnmount",value:function(){console.log("EchartsMapBoxVis Destory"),this.myChartGl=null,this.mapbox=null}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"mapNav",style:{width:"100px",position:"absolute",top:"12px",right:"60px",zIndex:1}},i.a.createElement("p",{className:"navTitle"},"\u5730\u56fe\u6837\u5f0f"),i.a.createElement(L.a,{defaultValue:"streets",style:{width:"100px"},onChange:this.mapStyleChange},i.a.createElement(M,{value:"streets"},"streets"),i.a.createElement(M,{value:"light"},"light"),i.a.createElement(M,{value:"dark"},"dark"),i.a.createElement(M,{value:"outdoors"},"outdoors "),i.a.createElement(M,{value:"satellite"},"satellite"))),i.a.createElement("div",{id:this.props.mapContainerID,className:"mapBoxContainer",style:{minHeight:"500px",height:"100%",width:"100%"}}))}}]),a}(n.Component),G=(n.Component,a(719),function(t){Object(c.a)(a,t);var e=Object(p.a)(a);function a(t){var n;return Object(s.a)(this,a),(n=e.call(this,t)).state={},n}return Object(l.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(O.a,{className:"homeBar"},i.a.createElement(E.a,{span:6,className:"positionLeft"},"\u4ea4\u901a\u6570\u636e\u53ef\u89c6\u5316"),i.a.createElement(E.a,{span:18,className:"positionRight"})),i.a.createElement(O.a,{className:"homeBar"},i.a.createElement(E.a,{span:18,className:"positionLeft"}),i.a.createElement(E.a,{span:6,className:"positionRight"},"\u62e5\u5835\u5206\u6790")),i.a.createElement(O.a,{className:"homeBar"},i.a.createElement(E.a,{span:6,className:"positionLeft"},"\u5b9e\u65f6\u9884\u6d4b"),i.a.createElement(E.a,{span:18,className:"positionRight"})))}}]),a}(n.Component)),R=a(32),F=a.n(R),H=a(75),J=a(13),W=a(773),U=a(772),V=a(195),Z=a(774),X=a(104),Y=(a(766),a(721),function(t){Object(c.a)(a,t);var e=Object(p.a)(a);function a(t){var n;return Object(s.a)(this,a),(n=e.call(this,t)).state={},n.chartsPie=null,n.showPie=n.showPie.bind(Object(j.a)(n)),n}return Object(l.a)(a,[{key:"showPie",value:function(){this.chartsPie=C.a.init(document.getElementById(this.props.chartsPieID));this.chartsPie.setOption({title:{text:"\u62e5\u5835\u5360\u6bd4",left:"top"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"\u62e5\u5835\u6bd4\u4f8b",type:"pie",radius:"70%",center:["50%","50%"],data:[{value:335,name:"\u62e5\u5835"},{value:310,name:"\u7f13\u884c"},{value:1548,name:"\u7545\u901a"}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})}},{key:"componentDidMount",value:function(){var t=this;this.showPie(),window.onresize=function(){t.chartsPie.resize()}}},{key:"componentWillUnmount",value:function(){console.log("chartsPie Destory"),this.chartsPie=null}},{key:"render",value:function(){return i.a.createElement("div",{id:this.props.chartsPieID,style:{minHeight:"100px",height:"100%",width:"100%",paddingLeft:"15px"}})}}]),a}(n.Component)),K=function(t){Object(c.a)(a,t);var e=Object(p.a)(a);function a(t){var n;return Object(s.a)(this,a),(n=e.call(this,t)).initLine=function(){n.chartsLine=C.a.init(document.getElementById(n.props.chartsLineID))},n.updateLine=function(){var t={title:{text:n.props.titleText,left:"top"},backgroundColor:"#fff",tooltip:{trigger:"axis",backgroundColor:"rgba(0,0,0,0.5)",axisPointer:{lineStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"red"},{offset:.5,color:"#48b3FF"},{offset:1,color:"#d9efff"}],global:!1}}}},grid:{top:"20%",left:"5%",right:"5%",bottom:"10%"},xAxis:[{type:"category",color:"#59588D",axisLine:{show:!0},axisLabel:{color:"#282828"},splitLine:{show:!0},axisTick:{show:!1},boundaryGap:!0,data:n.props.xAxisdata}],yAxis:[{type:"value",min:0,splitNumber:4,axisLine:{show:!0},axisLabel:{show:!0,textStyle:{color:"#737373"}},axisTick:{show:!1},splitLine:{lineStyle:{color:"rgba(131,101,101,0.2)",type:"dashed"}}}],series:[{name:"",type:"line",showAllSymbol:!0,symbol:"circle",symbolSize:10,lineStyle:{normal:{color:"#48B3FF"}},label:{show:!1,position:"top",textStyle:{color:"#48B3FF"}},itemStyle:{color:"#FFF",borderColor:"#48B3FF",borderWidth:2},tooltip:{show:!0},areaStyle:{normal:{color:new C.a.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(195,230,255,1)"},{offset:1,color:"rgba(195,230,255,0.1)"}],!1),shadowColor:"rgba(195,230,255,0.1)",shadowBlur:20}},data:n.props.data}]};n.chartsLine.setOption(t)},n.state={},n.chartsLine=null,n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var t=this;this.initLine(),window.onresize=function(){t.chartsLine.resize()}}},{key:"componentDidUpdate",value:function(){this.updateLine()}},{key:"componentWillUnmount",value:function(){console.log("chartsLine Destory"),this.chartsLine=null}},{key:"render",value:function(){return i.a.createElement("div",{id:this.props.chartsLineID,style:{minHeight:"200px",height:"100%",width:"100%",padding:"5px"}})}}]),a}(n.Component),Q=function(t){Object(c.a)(a,t);var e=Object(p.a)(a);function a(t){var n;return Object(s.a)(this,a),(n=e.call(this,t)).state={},n.chartsDash=null,n.showDash=n.showDash.bind(Object(j.a)(n)),n}return Object(l.a)(a,[{key:"showDash",value:function(){this.chartsDash=C.a.init(document.getElementById(this.props.chartsDashID));var t={title:{text:"\u5e73\u5747\u65f6\u901f",left:"top"},angleAxis:{max:100,clockwise:!0,startAngle:-135,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},splitLine:{show:!1}},radiusAxis:{type:"category",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},splitLine:{show:!1}},polar:{center:["50%","50%"],radius:"160%"},series:[{type:"bar",data:[{value:75,itemStyle:{normal:{color:new C.a.graphic.LinearGradient(1,0,0,0,[{offset:1,color:"#369674"},{offset:.7,color:"#feb64d"},{offset:0,color:"#ff0000"}])}}}],coordinateSystem:"polar",roundCap:!0,barWidth:10},{type:"gauge",radius:"110%",min:0,max:100,splitNumber:4,axisLine:{show:!1},axisLabel:{color:"#999999",fontSize:10},itemStyle:{color:"#999999"},pointer:{length:"50%",width:6},axisTick:{show:!1},splitLine:{show:!1},detail:{color:"#333333",fontSize:25},data:[41]}]};this.chartsDash.setOption(t)}},{key:"componentDidMount",value:function(){var t=this;this.showDash(),window.onresize=function(){t.chartsDash.resize()}}},{key:"componentWillUnmount",value:function(){console.log("chartsDash Destory"),this.chartsDash=null}},{key:"render",value:function(){return i.a.createElement("div",{id:this.props.chartsDashID,style:{minHeight:"200px",height:"100%",width:"100%"}})}}]),a}(n.Component),$=Object(X.b)("store")(B=Object(X.c)(B=function(t){Object(c.a)(a,t);var e=Object(p.a)(a);function a(t){var n;return Object(s.a)(this,a),(n=e.call(this,t)).resetCamera=function(){n.setState(Object(J.a)(Object(J.a)({},n.state),{},{flyActionParam:[116.368608,39.901744,10,60,-30,1e3]}))},n.onClickBtn8=function(){n.mapbox.getLayer("line")&&(n.mapbox.removeLayer("line"),n.mapbox.removeSource("line"),n.mapbox.removeLayer("linePoint"),n.mapbox.removeSource("linePoint")),n.mapbox.getLayer("points")&&(n.mapbox.removeLayer("points"),n.mapbox.removeSource("points"));for(var t=[42,47,48,46,47,34,45,30,43,48,44,49,40,46,41,38,41,43,48,47,34,47,47,41,34,46,47,37,46,49,48,42,43,62,48,41,49,48,43,42,35,49,32,36,40,46,45,49,47,44,31,49,53,48,48,44,60,54,50,43,43,43,42,58,36,50,47,54,39,43,76,57,48,33,40,47,70,51,47,51,43,41,45,30,35,40,51,36,64,65,39,39,66,43,45,62,65,39,63,66,44,34,47,56,55,40,45,53,34,51,42,41,34,32,52,35,36,92,51,55,61,55,37,46,37,60,45,34,47,51,52,32,38,57,60,54,59,49,47,60,44,41,53,68,52,76,36,68,60,60,61,71,52,55,37,37,52,55,41,45,73,37,43,43,65,59,58,75,74,62,52,33,44,33,33,34,57,58,64,64,64,32,64,64,46,48,59,64,37,38,45,45,57,43,31,89,80,75,67,67,45,45,40,43,33,36,36,67,67,30,42,42,42,42,42,42,42,51,51,92,56,58,41,41,70,70,70,40,42,45,33,47,44,47,28,41,39,64,45,71,33,82,62,62,38,74,74,55,40,43,40,40,40,33,63,69,60,60,52,73,42,54,63,41,42,49,55,41,39,41,42,52,55,39,41,42,42,40,60,41,63,64,41,41,34,44,65,40,44,45,63,49,58,47,44,67,49,36,52,46,57,40,51,46,41,39,37,38,49,41,37,39,44,39,33,47,79,45,63,45,41,36,51,48,51,43,46,49,49,41,45,52,47,53,32,39,46,48,51,43,46,44,42,64,51,55,52,48,54,43,42,39,41,43,44,45,44,33,40,39,33,26,20,42,39,40,27,38,41,28,35,34,48,53,44,34,21,35,39,50,33,34,33,20,29,45,45,42,34,32,47,42,36,31,34,34,34,45,33,43,27,26,47,47,38,31,35,41,38,33,48,41,44,26,30,28,30,39,40,35,38,36,32,23,36,27,15,13,28,36,21,31,37,19,36,16,26,30,34,29,26,37,29,17,18,21,28,16,25,30,22,25,25,22,31,30,18,25,29,23,18,29,18,28,28,29,21,32,27,17,45,30,31,22,36,29,27,25,16,10,25,17,24,24,23,21,18,28,27,29,29,31,15,28,17,18,20,20,25,23,16,18,21,35,27,30,28,27,38,23,27,35,21,22,21,25,28,24,41,38,43,31,32,44,40,46,40,20,37,29,52,43,49,37,13,32,40,27,39,33,48,46,39,43,32,45,40,35,25,43,51,35,38,39,35,34,30,28,43,39,35,45,44,33,38,48,32,41,42,46,51,37,29,36,32,19,26,29,39,41,32,49,39,22,47,40,40,43,37,37,43,38,32,48,33,44,44,41,47,38,31,33,44,38,31,41,23,32,34,36,36,37,33,43,38,31,35,44,29,32,22,26,28,35,31,44,27,22,16,31,31,25,24,24,31,29,35,30,28,35,25,38,38,30,33,36,38,28,27,34,41,34,27,31,27,41,36,37,34,34,34,29,42,33,37,20,31,32,38,34,39,44,31,34,33,40,46,42,34,30,28,45,43,49,38,49,30,33,28,36,29,30,45,42,41,33,32,35,42,39,50,40,35,48,49,25,46,46,49,43,38,32,32,31,35,31,38,31,26,34,34,34,30,31,47,42,25,16,30,45,44,45,39,27,23,47,37,35,17,30,38,33,40,33,34,29,24,30,25,22,28,38,39,28,36,42,33,39,36,21,30,43,48,29,41,42,46,42,37,36,39,29,23,39,26,30,36,40,35,24,40,38,37,35,27,34,38,29,32,35,34,31,43,29,36,33,41,18,35,35,46,39,43,32,38,36,39,34,37,35,35,20,26,30,32,30,25,33,32,34,37,35,40,27,26,27,35,33,34,41,28,31,32,30,31,22,35,30,42,32,21,35,19,36,35,31,33,33,35,47,40,38,32,31,36,46,40,36,29,37,33,40,28,39,37,38,28,34,37,42,33,40,44,33,22,35,31,33,36,33,31,31,26,35,19,20,34,26,30,19,15,19,29,34,31,39,32,36,35,40,33,41,36,38,30,38,38,44,41,27,35,37,38,43,35,39,50,32,31,35,37,33,41,44,30,44,32,29,31,36,22,30,34,29,27,37,26,21,24,25,28,30,31,26,28,29,27,32,26,24,26,30,25,25,25,25,25,34,38,36,35,36,32,27,28,31,41,52,34,34,43,26,32,25,32,31,31,33,26,26,20,14,30,27,28,19,21,23,28,32,29,21,28,30,24,32,17,29,28,29,21,30,27,25,29,24,26,32,27,18,32,19,27,31,13,18,29,26,20,18,12,21,29,20,30,34,19,17,27,24,19,22,20,23,27,21,17,20,22,32,23,25,30,25,13,13,12,30,28,14,14,7,22,42,39,18,26,30,11,14,18,17,31,20,18,17,19,33,29,32,23,16,17,26,14,45,18,21,21,22,32,24,26,32,28,33,24,26,32,25,19,16,20,32,26,26,19,25,13,17,21,25,25,22,23,24,26,23,30,23,25,34,29,26,27,22,26,13,13,18,25,24,21,15,21,26,20,15,26,15,9,18,11,21,19,22,21,21,17,25,30,22,24,30,30,28,27,34,15,31,30,32,32,29,35,37,30,34,23,24,32,28,39,40,36,31,30,35,32,16,31,55,32,30,35,30,32,31,39,16,34,36,31,22,40,31,29,36,27,27,36,39,29,27,29,40,31,34,35,42,43,23,41,30,39,40,41,37,31,28,28,36,30,39,38,40,31,42,40,41,40,48,32,32,23,47,29,28,24,39,40,39,37,28,30,40,34,36,34,22,40,45,17,28,25,36,46,32,44,36,19,34,33,52,42,32,36,34,42,28,46,35,14,27,33,43,30,39,41,26,46,45,41,46,44,40,42,48,44,38,23,29,38,41,22,35,33,44,33,30,24,30,37,46,33,54,35,43,17,55,40,36,21,46,47,53,42,47,49,31,46,44,39,41,51,32,42,30,40,48,48,47,44,45,48,46,43,41,40,46,51,47,41,54,57,41,52,51,35,55,56,60,46,41,51,45,55,38,50,49,49,50,52,50,46,38,55,63,42,52,51,57,50,58,53,59,51,44,56,48,44,38,44,43,52,30,46,42,52,56,57,56,47,57,45,63,46,42,49,50,51,50,57,47,50,44,48,46,42,42,51,48,47,41,43,42,42,48,46,51,55,56,45,54,67,55,53,47,63,53,58,54,54,46,51,39,59,50,46,48,57,54,54,41,38,60,44,54,45,56],e=[],a=0;a<t.length;a+=60)e.push(t[a]);for(var i=[],r=0;r<24;r++){var o=r.toString();r<10&&(o="0"+o);var s=o+":00";i.push(s)}n.setState(Object(J.a)(Object(J.a)({},n.state),{},{titleText:"\u8282\u70b9\u5206\u6790",extraInfoSwitch:3,extraInfoLineData:e,extraInfoLineDataxAxis:i}),(function(){n.resizeAllCharts(),n.pointbtn1()}));n.mapbox.getLayer("points")?console.log("mapbox points layer exist"):(n.mapbox.loadImage("./icons/point.png",(function(t,e){if(t)throw t;n.mapbox.addImage("pointMark",e)})),n.mapbox.addSource("points",{type:"geojson",lineMetrics:!0,data:{type:"FeatureCollection",features:[{type:"Feature",properties:{description:"<strong>\u897f\u76f4\u95e8</strong><p>\u897f\u76f4\u95e8\u5317\u5927\u8857-NS-1</p>",icon:"pointMark"},geometry:{type:"Point",coordinates:[116.349252,39.941157]}},{type:"Feature",properties:{description:"<strong>\u4e09\u5143\u6865</strong><p>\u5317\u4e09\u73af\u4e1c\u8def\u8f85\u8def\uff08\u5185\u73af\uff09-WE-1</p>",icon:"art-gallery"},geometry:{type:"Point",coordinates:[116.44523,39.958156]}}]}}),n.mapbox.addLayer({type:"symbol",id:"points",source:"points",layout:{"icon-image":"pointMark","icon-allow-overlap":!0}}),n.mapbox.on("click","points",(function(t){for(var e=t.features[0].geometry.coordinates.slice(),a=t.features[0].properties.description;Math.abs(t.lngLat.lng-e[0])>180;)e[0]+=t.lngLat.lng>e[0]?360:-360;(new P.a.Popup).setLngLat(e).setHTML(a).addTo(n.mapbox)})),n.mapbox.on("mouseenter","points",(function(){n.mapbox.getCanvas().style.cursor="pointer"})),n.mapbox.on("mouseleave","points",(function(){n.mapbox.getCanvas().style.cursor=""})))},n.pointbtn1=function(){for(var t=[42,47,48,46,47,34,45,30,43,48,44,49,40,46,41,38,41,43,48,47,34,47,47,41,34,46,47,37,46,49,48,42,43,62,48,41,49,48,43,42,35,49,32,36,40,46,45,49,47,44,31,49,53,48,48,44,60,54,50,43,43,43,42,58,36,50,47,54,39,43,76,57,48,33,40,47,70,51,47,51,43,41,45,30,35,40,51,36,64,65,39,39,66,43,45,62,65,39,63,66,44,34,47,56,55,40,45,53,34,51,42,41,34,32,52,35,36,92,51,55,61,55,37,46,37,60,45,34,47,51,52,32,38,57,60,54,59,49,47,60,44,41,53,68,52,76,36,68,60,60,61,71,52,55,37,37,52,55,41,45,73,37,43,43,65,59,58,75,74,62,52,33,44,33,33,34,57,58,64,64,64,32,64,64,46,48,59,64,37,38,45,45,57,43,31,89,80,75,67,67,45,45,40,43,33,36,36,67,67,30,42,42,42,42,42,42,42,51,51,92,56,58,41,41,70,70,70,40,42,45,33,47,44,47,28,41,39,64,45,71,33,82,62,62,38,74,74,55,40,43,40,40,40,33,63,69,60,60,52,73,42,54,63,41,42,49,55,41,39,41,42,52,55,39,41,42,42,40,60,41,63,64,41,41,34,44,65,40,44,45,63,49,58,47,44,67,49,36,52,46,57,40,51,46,41,39,37,38,49,41,37,39,44,39,33,47,79,45,63,45,41,36,51,48,51,43,46,49,49,41,45,52,47,53,32,39,46,48,51,43,46,44,42,64,51,55,52,48,54,43,42,39,41,43,44,45,44,33,40,39,33,26,20,42,39,40,27,38,41,28,35,34,48,53,44,34,21,35,39,50,33,34,33,20,29,45,45,42,34,32,47,42,36,31,34,34,34,45,33,43,27,26,47,47,38,31,35,41,38,33,48,41,44,26,30,28,30,39,40,35,38,36,32,23,36,27,15,13,28,36,21,31,37,19,36,16,26,30,34,29,26,37,29,17,18,21,28,16,25,30,22,25,25,22,31,30,18,25,29,23,18,29,18,28,28,29,21,32,27,17,45,30,31,22,36,29,27,25,16,10,25,17,24,24,23,21,18,28,27,29,29,31,15,28,17,18,20,20,25,23,16,18,21,35,27,30,28,27,38,23,27,35,21,22,21,25,28,24,41,38,43,31,32,44,40,46,40,20,37,29,52,43,49,37,13,32,40,27,39,33,48,46,39,43,32,45,40,35,25,43,51,35,38,39,35,34,30,28,43,39,35,45,44,33,38,48,32,41,42,46,51,37,29,36,32,19,26,29,39,41,32,49,39,22,47,40,40,43,37,37,43,38,32,48,33,44,44,41,47,38,31,33,44,38,31,41,23,32,34,36,36,37,33,43,38,31,35,44,29,32,22,26,28,35,31,44,27,22,16,31,31,25,24,24,31,29,35,30,28,35,25,38,38,30,33,36,38,28,27,34,41,34,27,31,27,41,36,37,34,34,34,29,42,33,37,20,31,32,38,34,39,44,31,34,33,40,46,42,34,30,28,45,43,49,38,49,30,33,28,36,29,30,45,42,41,33,32,35,42,39,50,40,35,48,49,25,46,46,49,43,38,32,32,31,35,31,38,31,26,34,34,34,30,31,47,42,25,16,30,45,44,45,39,27,23,47,37,35,17,30,38,33,40,33,34,29,24,30,25,22,28,38,39,28,36,42,33,39,36,21,30,43,48,29,41,42,46,42,37,36,39,29,23,39,26,30,36,40,35,24,40,38,37,35,27,34,38,29,32,35,34,31,43,29,36,33,41,18,35,35,46,39,43,32,38,36,39,34,37,35,35,20,26,30,32,30,25,33,32,34,37,35,40,27,26,27,35,33,34,41,28,31,32,30,31,22,35,30,42,32,21,35,19,36,35,31,33,33,35,47,40,38,32,31,36,46,40,36,29,37,33,40,28,39,37,38,28,34,37,42,33,40,44,33,22,35,31,33,36,33,31,31,26,35,19,20,34,26,30,19,15,19,29,34,31,39,32,36,35,40,33,41,36,38,30,38,38,44,41,27,35,37,38,43,35,39,50,32,31,35,37,33,41,44,30,44,32,29,31,36,22,30,34,29,27,37,26,21,24,25,28,30,31,26,28,29,27,32,26,24,26,30,25,25,25,25,25,34,38,36,35,36,32,27,28,31,41,52,34,34,43,26,32,25,32,31,31,33,26,26,20,14,30,27,28,19,21,23,28,32,29,21,28,30,24,32,17,29,28,29,21,30,27,25,29,24,26,32,27,18,32,19,27,31,13,18,29,26,20,18,12,21,29,20,30,34,19,17,27,24,19,22,20,23,27,21,17,20,22,32,23,25,30,25,13,13,12,30,28,14,14,7,22,42,39,18,26,30,11,14,18,17,31,20,18,17,19,33,29,32,23,16,17,26,14,45,18,21,21,22,32,24,26,32,28,33,24,26,32,25,19,16,20,32,26,26,19,25,13,17,21,25,25,22,23,24,26,23,30,23,25,34,29,26,27,22,26,13,13,18,25,24,21,15,21,26,20,15,26,15,9,18,11,21,19,22,21,21,17,25,30,22,24,30,30,28,27,34,15,31,30,32,32,29,35,37,30,34,23,24,32,28,39,40,36,31,30,35,32,16,31,55,32,30,35,30,32,31,39,16,34,36,31,22,40,31,29,36,27,27,36,39,29,27,29,40,31,34,35,42,43,23,41,30,39,40,41,37,31,28,28,36,30,39,38,40,31,42,40,41,40,48,32,32,23,47,29,28,24,39,40,39,37,28,30,40,34,36,34,22,40,45,17,28,25,36,46,32,44,36,19,34,33,52,42,32,36,34,42,28,46,35,14,27,33,43,30,39,41,26,46,45,41,46,44,40,42,48,44,38,23,29,38,41,22,35,33,44,33,30,24,30,37,46,33,54,35,43,17,55,40,36,21,46,47,53,42,47,49,31,46,44,39,41,51,32,42,30,40,48,48,47,44,45,48,46,43,41,40,46,51,47,41,54,57,41,52,51,35,55,56,60,46,41,51,45,55,38,50,49,49,50,52,50,46,38,55,63,42,52,51,57,50,58,53,59,51,44,56,48,44,38,44,43,52,30,46,42,52,56,57,56,47,57,45,63,46,42,49,50,51,50,57,47,50,44,48,46,42,42,51,48,47,41,43,42,42,48,46,51,55,56,45,54,67,55,53,47,63,53,58,54,54,46,51,39,59,50,46,48,57,54,54,41,38,60,44,54,45,56],e=[],a=0;a<t.length;a+=20)e.push(t[a]);for(var i=[],r=0;r<24;r++){var o=r.toString();r<10&&(o="0"+o);for(var s=0;s<60;s+=20){var l=s.toString();s<10&&(l="0"+l);var c=o+":"+l;i.push(c)}}n.setState(Object(J.a)(Object(J.a)({},n.state),{},{pointLineTitle:"\u8be5\u8282\u70b9\u6240\u5728\u8def\u6bb5\u5de5\u4f5c\u65e524\u5c0f\u65f6\u901a\u884c\u65f6\u901f\u53d8\u5316",pointLineData:e,pointLineDataxAxis:i}),(function(){n.resizeAllCharts()}))},n.pointbtn2=function(){for(var t=[31,39,52,30,54,57,44,51,44,65,58,60,44,66,36,46,68,35,53,53,57,57,50,42,43,43,53,52,51,59,51,45,41,54,52,63,34,40,48,48,42,55,40,42,48,53,43,48,33,34,47,55,39,47,63,63,49,42,47,47,65,65,42,41,62,44,41,49,53,36,45,28,45,45,33,70,32,40,59,26,64,57,42,42,53,39,37,45,49,78,53,60,26,26,29,44,55,55,76,70,64,47,38,67,58,58,78,78,46,34,39,43,39,48,59,56,66,37,48,48,48,39,58,54,42,43,38,40,45,48,67,94,40,35,41,55,46,58,58,47,47,43,41,54,53,47,40,57,57,72,52,54,58,58,47,31,42,53,53,53,102,48,25,45,44,40,40,66,61,61,61,61,69,69,69,69,58,50,50,50,45,45,81,43,52,60,29,35,60,73,96,96,96,94,94,76,42,29,44,47,47,47,31,31,45,66,66,66,64,57,67,36,39,45,45,45,40,50,74,62,62,62,47,51,51,65,68,68,68,85,71,85,85,30,30,30,30,30,51,40,33,33,33,33,30,45,46,88,80,63,39,41,30,54,53,63,62,67,67,67,67,67,60,56,56,43,42,49,58,96,96,61,47,47,55,81,58,31,31,45,65,29,29,47,80,82,45,49,47,78,41,33,56,56,56,56,45,58,58,58,46,44,51,60,43,41,47,44,44,42,66,66,52,61,57,69,78,45,45,45,58,75,71,63,63,64,70,66,27,45,54,59,67,37,50,44,65,55,62,60,52,49,49,37,39,36,52,60,55,68,55,55,41,54,58,58,69,44,54,37,64,55,57,49,51,45,52,49,24,44,54,67,61,25,76,54,64,48,68,53,55,64,27,54,51,60,39,68,48,35,27,47,36,28,45,34,62,37,57,41,53,35,40,32,48,49,37,40,42,53,54,49,59,48,38,38,43,43,51,39,42,32,24,38,33,20,31,22,24,13,30,27,21,29,26,31,25,29,27,19,30,29,16,29,28,30,17,25,22,20,23,25,33,29,30,24,21,24,19,16,16,29,32,11,16,15,14,15,18,15,13,26,10,25,14,11,22,20,19,13,17,18,20,16,21,22,14,19,23,30,19,32,23,20,22,7,21,22,9,23,19,18,20,22,11,22,16,10,21,16,14,18,17,20,19,27,28,27,26,26,17,20,23,21,27,25,23,25,28,19,32,28,25,36,24,29,24,26,20,28,29,30,33,22,29,17,24,31,21,23,6,22,15,17,19,22,26,15,17,25,23,28,23,17,23,22,21,27,24,19,27,23,25,40,30,28,32,25,28,30,31,31,20,34,29,22,16,17,21,15,27,38,27,29,19,28,32,24,22,21,27,23,27,30,28,31,26,31,30,33,32,35,39,31,33,33,20,17,27,30,25,30,25,24,31,33,44,38,14,29,32,33,27,36,29,31,35,25,36,27,32,33,31,30,34,28,31,34,29,31,33,40,32,25,21,29,30,36,32,32,32,34,26,34,18,30,32,27,38,28,30,36,32,33,30,33,29,28,27,30,36,35,29,23,17,35,29,26,32,30,20,25,15,44,32,32,33,41,33,30,32,40,30,32,41,26,33,35,36,35,37,39,42,32,24,32,34,41,38,26,38,23,18,57,28,29,16,33,25,26,31,20,33,32,33,30,27,30,16,27,27,26,28,24,44,39,30,30,26,36,32,25,31,25,21,34,38,30,40,40,43,40,45,47,39,36,34,37,42,51,35,46,40,38,34,39,38,34,40,45,51,41,44,34,31,46,31,43,38,41,57,47,46,37,14,20,38,40,35,13,31,46,35,41,46,49,41,36,30,41,29,35,31,43,29,37,28,38,35,37,35,38,24,31,28,21,30,30,37,27,23,23,31,34,33,25,32,31,25,35,34,39,32,34,29,31,31,36,22,33,27,29,30,36,33,34,36,36,49,37,29,38,41,38,31,33,34,36,36,28,28,30,24,31,27,32,27,38,33,29,32,33,13,35,36,34,30,24,35,31,42,44,33,51,38,29,40,44,35,39,45,45,42,49,43,30,39,40,38,44,27,39,38,45,32,52,32,39,40,30,36,41,51,46,13,46,53,39,41,50,45,43,38,36,29,36,35,36,36,37,37,31,18,25,36,24,30,30,21,27,25,22,26,34,27,28,23,19,26,27,28,31,27,33,28,27,20,20,17,8,25,25,18,23,29,18,29,30,21,31,29,25,17,23,25,22,20,23,27,22,21,15,20,16,16,17,18,18,18,22,13,21,13,23,25,28,21,19,28,21,25,17,39,7,34,21,19,21,13,15,22,24,19,17,21,24,20,18,17,23,17,19,20,25,10,20,22,26,23,22,17,17,18,7,20,24,24,18,17,10,20,15,27,22,26,20,26,24,20,14,22,20,22,13,17,12,17,10,16,11,25,9,6,11,29,12,11,13,8,8,15,21,19,10,16,14,15,25,21,21,20,31,22,26,27,17,15,27,22,27,20,18,22,22,19,21,20,22,27,16,14,27,19,28,15,12,20,23,10,14,7,9,12,14,12,12,17,14,14,14,13,20,7,8,19,9,23,23,15,23,22,19,28,26,25,32,20,21,21,27,21,27,33,16,24,20,20,22,19,28,26,13,21,34,23,24,26,20,28,32,34,24,31,30,34,28,31,29,40,28,39,39,39,27,32,8,8,42,43,40,45,36,36,34,42,38,41,32,27,31,40,35,34,37,38,32,34,28,23,21,32,30,20,27,28,33,26,23,17,23,32,25,18,32,30,28,27,28,26,22,26,25,29,21,21,33,33,27,10,23,23,27,22,21,22,35,24,26,33,29,30,22,27,34,25,33,31,33,22,21,39,26,29,33,30,35,27,37,21,31,36,44,30,37,36,24,33,19,34,35,20,24,17,34,33,31,37,47,25,29,39,29,39,51,21,35,30,56,26,25,26,23,24,28,25,32,30,40,34,20,30,28,23,38,35,39,43,29,45,60,44,47,51,43,44,52,44,44,35,52,52,51,52,56,49,50,51,55,46,36,60,59,58,52,55,64,45,58,47,49,47,50,57,49,44,48,56,52,49,54,61,61,55,56,47,47,48,46,56,42,55,51,40,45,55,52,37,41,48,42,42,49,47,58,47,42,57,63,45,53,46,48,53,58,64,64,57,54,62,55,47,50,51,48,62,44,49,62,57,53,50,58,39,62,50,54,54,50,40,60,49,56,60,44,62,55,57,56,59,56,68,67,48,42,61,52,48,46,57,48],e=[],a=0;a<t.length;a+=20)e.push(t[a]);for(var i=[],r=0;r<24;r++){var o=r.toString();r<10&&(o="0"+o);for(var s=0;s<60;s+=20){var l=s.toString();s<10&&(l="0"+l);var c=o+":"+l;i.push(c)}}n.setState(Object(J.a)(Object(J.a)({},n.state),{},{pointLineTitle:"\u8be5\u8282\u70b9\u6240\u5728\u8def\u6bb5\u8282\u5047\u65e524\u5c0f\u65f6\u901a\u884c\u65f6\u901f\u53d8\u5316",pointLineData:e,pointLineDataxAxis:i}),(function(){n.resizeAllCharts()}))},n.pointbtn3=function(){var t;t=[30,18,12,49,55,44,38,45,39,38,29,25,27,29,29,21,14,39,14,20,21,21,19,24,37,52,29,23,21,23,22];n.setState(Object(J.a)(Object(J.a)({},n.state),{},{pointLineTitle:"\u8be5\u8282\u70b9\u6240\u5728\u8def\u6bb5\u6bcf\u5468\u65e9\u9ad8\u5cf0\u5e73\u5747\u8f66\u901f",pointLineData:t,pointLineDataxAxis:["2020/1/1","2020/1/8","2020/1/15","2020/1/22","2020/1/29","2020/2/5","2020/2/12","2020/2/19","2020/2/26","2020/3/4","2020/3/11","2020/3/18","2020/3/25","2020/4/1","2020/4/8","2020/4/15","2020/4/22","2020/4/29","2020/5/6","2020/5/13","2020/5/20","2020/5/27","2020/6/3","2020/6/10","2020/6/17","2020/6/24","2020/7/1","2020/7/8","2020/7/15","2020/7/22","2020/7/29"]}),(function(){n.resizeAllCharts()}))},n.store=t.store.analysisStore,n.state={data:{data:[[116.368608,39.901744,150],[116.378608,39.901744,350],[116.388608,39.901744,500]],datatime:""},dataType:"history",chartsParam:{},titleText:"",extraInfoSwitch:0,extraInfoLineData:"",extraInfoLineDataxAxis:"",pointLineTitle:"",pointLineData:"",pointLineDataxAxis:""},window.mapboxgl=P.a,n.DataNameList=null,n.dataListIndex=0,n.isplaying=!1,n.mapRef=i.a.createRef(),n.mapbox=null,n.loaddata=n.loaddata.bind(Object(j.a)(n)),n.onClickBtn1=n.onClickBtn1.bind(Object(j.a)(n)),n.onClickBtn2=n.onClickBtn2.bind(Object(j.a)(n)),n.onClickBtn3=n.onClickBtn3.bind(Object(j.a)(n)),n.onClickBtn4=n.onClickBtn4.bind(Object(j.a)(n)),n.onClickBtn5=n.onClickBtn5.bind(Object(j.a)(n)),n.onClickBtn6=n.onClickBtn6.bind(Object(j.a)(n)),n.onClickBtn7=n.onClickBtn7.bind(Object(j.a)(n)),n.resizeAllCharts=n.resizeAllCharts.bind(Object(j.a)(n)),n}return Object(l.a)(a,[{key:"loaddata",value:function(){var t=Object(H.a)(F.a.mark((function t(e){var a,n,i,r,o;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={data:[],datatime:""},t.next=3,fetch(e);case 3:return n=t.sent,t.next=6,n.json();case 6:if(void 0!==(i=(i=t.sent).data)){t.next=12;break}W.b.warning("\u83b7\u53d6\u6570\u636e\u5931\u8d25"),t.next=29;break;case 12:r=0,o=i.length;case 13:if(!(r<o)){t.next=27;break}t.t0=i[r][2],t.next=3===t.t0?17:7===t.t0?19:10===t.t0?21:23;break;case 17:return i[r][2]=150,t.abrupt("break",24);case 19:return i[r][2]=175,t.abrupt("break",24);case 21:return i[r][2]=200,t.abrupt("break",24);case 23:return t.abrupt("break",24);case 24:r++,t.next=13;break;case 27:a.data=i,a.datatime=e.split("/")[e.split("/").length-1].split(".")[0];case 29:return this.setState({data:a,dataType:"history",titleText:"\u4ea4\u901a\u62e5\u5835\u60c5\u51b5\u4e09\u7ef4\u67f1\u72b6\u56fe"}),t.abrupt("return",a);case 31:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"intervalPlay",value:function(t){var e=this;this.intervalID=setInterval((function(){var a="./testDataList/"+t[e.dataListIndex>t.length?e.dataListIndex=0:e.dataListIndex++];e.loaddata(a)}),500)}},{key:"onClickBtn1",value:function(){for(var t=this,e=[],a=0;a<24;a++){var n=a.toString();a<10&&(n="0"+n);var i=n+":00";e.push(i)}this.loaddata("./2019-04-02_09-00.json"),this.setState(Object(J.a)(Object(J.a)({},this.state),{},{extraInfoSwitch:1,extraInfoLineData:[38,40,46,46,38,55,36,30,22,26,38,34,74,47,15,31,47,32,23,28,64,28,38,46],extraInfoLineDataxAxis:e}),(function(){t.resizeAllCharts(),console.log(t.state.extraInfoLineData)}))}},{key:"onClickBtn2",value:function(){if(this.intervalID)clearInterval(this.intervalID),clearTimeout(this.timeoutID),this.intervalID=null,this.isplaying=!1;else{this.isplaying=!0;this.DataNameList=S("2019-04-02_08-30","2019-04-02_09-30"),this.intervalPlay(this.DataNameList)}}},{key:"onClickBtn3",value:function(){var t=this;this.store.getRealTimeData(),this.setState(Object(J.a)(Object(J.a)({},this.state),{},{dataType:"realtime",titleText:"\u4ea4\u901a\u5b9e\u65f6\u62e5\u5835\u60c5\u51b5\u4e09\u7ef4\u67f1\u72b6\u56fe",extraInfoSwitch:0}),(function(){t.resizeAllCharts()}))}},{key:"onClickBtn4",value:function(){var t=this;this.intervalID&&(clearInterval(this.intervalID),this.intervalID=null),this.setState(Object(J.a)(Object(J.a)({},this.state),{},{flyActionParam:[116.360163,40.001514,14,60,-45,1e3]}),(function(){t.DataNameList&&t.isplaying&&(t.timeoutID=setTimeout((function(){t.intervalPlay(t.DataNameList),t.setState(Object(J.a)(Object(J.a)({},t.state),{},{flyActionParam:null}))}),2e3))}))}},{key:"onClickBtn5",value:function(){var t=this;this.intervalID&&(clearInterval(this.intervalID),this.intervalID=null),this.setState(Object(J.a)(Object(J.a)({},this.state),{},{flyActionParam:[116.420608,39.851744,11.5,60,-30,1e3]}),(function(){t.DataNameList&&t.isplaying&&(t.timeoutID=setTimeout((function(){t.intervalPlay(t.DataNameList),t.setState(Object(J.a)(Object(J.a)({},t.state),{},{flyActionParam:null}))}),2e3))}))}},{key:"onClickBtn6",value:function(){var t=this;this.store.clearAll(),this.setState({data:{data:[],datatime:""},titleText:"",extraInfoSwitch:0},(function(){t.resizeAllCharts(),t.resetCamera()})),clearInterval(this.intervalID),clearTimeout(this.timeoutID),this.timeoutID=null,this.intervalID=null,this.DataNameList=null,this.dataListIndex=0,this.mapbox.getLayer("line")&&(this.mapbox.removeLayer("line"),this.mapbox.removeSource("line"),this.mapbox.removeLayer("linePoint"),this.mapbox.removeSource("linePoint")),this.mapbox.getLayer("points")&&(this.mapbox.removeLayer("points"),this.mapbox.removeSource("points"))}},{key:"onClickBtn7",value:function(){var t=this;this.mapbox.getLayer("line")&&(this.mapbox.removeLayer("line"),this.mapbox.removeSource("line"),this.mapbox.removeLayer("linePoint"),this.mapbox.removeSource("linePoint")),this.mapbox.getLayer("points")&&(this.mapbox.removeLayer("points"),this.mapbox.removeSource("points"));for(var e=["#ff0000","#feb64d","#369674"],a=[43,35,26,27,35,41,41,41,41,41,41,41,41,40,33,29,22,22,22,22,34,34,34,34,34,68,68,68,68,68,68,68,54,54,54,54,54,54,54,34,24,28,28,40,36,56,56,56,56,56,56,56,56,56,56,50,50,22,22,22,22,22,22,22,22,22,22,22,22,36,41,43,29,41,41,41,31,31,31,31,31,31,31,31,33,31,40,36,28,28,25,27,27,28,28,28,28,28,27,41,28,28,28,24,40,40,40,30,30,55,55,55,55,55,55,55,46,46,47,47,47,36,34,34,35,35,35,35,35,35,32,32,32,32,32,32,32,32,32,32,32,32,32,32,28,40,28,28,28,34,34,34,34,56,28,28,28,28,28,31,50,47,41,41,28,28,28,28,28,28,28,28,28,38,38,38,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,50,50,27,30,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,30,34,34,34,34,34,34,34,34,34,34,34,30,35,41,41,41,41,41,41,39,35,29,29,29,29,29,29,29,29,29,29,29,29,29,29,31,37,37,35,35,28,55,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,29,21,55,41,31,31,31,31,31,31,31,31,31,31,25,31,31,31,31,31,40,29,29,29,29,29,29,29,29,29,28,28,28,28,28,28,28,30,34,34,34,34,51,28,28,28,28,28,28,28,28,28,28,28,28,27,34,34,34,34,34,34,34,34,34,34,34,34,34,43,43,43,39,36,36,36,36,35,35,35,40,40,40,40,40,40,17,41,37,37,37,37,37,37,37,37,37,37,13,56,35,36,36,31,31,28,35,18,14,14,14,19,22,19,18,22,21,25,25,25,5,5,5,5,34,17,28,28,28,28,28,28,28,35,35,15,15,15,15,34,55,46,46,46,46,46,46,46,46,46,46,31,31,31,31,32,40,27,8,14,14,16,16,16,15,80,80,31,29,29,29,29,29,29,29,29,20,21,68,68,28,28,29,29,34,34,15,15,17,25,25,25,25,35,31,70,70,27,38,36,36,28,28,28,17,27,12,12,40,17,31,31,29,29,29,28,10,10,10,10,10,10,10,10,30,43,40,36,29,32,29,29,35,10,26,26,26,26,23,29,23,23,21,17,41,41,41,41,40,54,30,30,40,40,40,20,20,22,21,40,40,31,37,37,37,16,31,31,31,35,8,22,25,29,43,34,29,36,27,22,16,40,43,46,33,46,14,34,31,34,32,31,31,31,27,15,20,12,22,23,31,31,15,26,29,15,31,35,24,31,23,32,32,31,14,17,17,20,12,25,24,25,32,16,24,20,26,27,32,68,20,27,43,40,11,21,31,21,55,7,38,25,40,28,40,47,47,51,56,40,46,35,32,39,28,26,43,40,40,28,28,34,16,36,34,31,31,40,56,56,31,27,27,27,28,21,28,38,38,31,28,16,20,20,27,27,27,29,29,22,35,38,38,38,38,29,14,26,25,25,28,28,46,32,32,70,21,21,28,50,50,50,50,46,46,18,18,43,43,43,31,31,35,35,35,35,35,35,22,24,32,34,29,40,25,34,15,46,18,40,27,28,28,92,92,37,40,40,40,40,91,40,40,40,33,10,29,35,22,24,24,25,36,50,43,40,37,25,22,22,22,68,47,26,26,26,26,26,43,43,43,33,29,59,54,54,40,33,32,50,50,23,30,32,34,34,34,50,91,34,24,26,29,28,36,36,36,21,54,46,37,37,27,27,28,27,16,29,31,26,21,22,31,26,50,50,36,38,28,28,35,35,39,30,35,47,37,94,40,21,21,29,29,35,40,31,41,54,46,40,40,35,32,32,31,50,32,32,43,43,43,38,38,81,25,28,30,17,17,46,46,35,33,33,17,31,31,31,34,5,13,13,22,21,17,35,25,21,21,25,5,5,5,35,36,33,34,32,32,29,29,37,46,46,33,22,22,30,30,30,30,30,35,35,37,27,17,17,64,29,38,38,32,29,28,28,34,34,38,46,46,46,16,28,28,28,28,28,26,31,31,31,22,29,35,35,35,22,28,28,23,41,32,33,38,36,34,37,40,40,31,38,38,31,31,29,26,29,33,33,31,31,30,43,31,31,28,23,8,26,56,47,47,47,34,27,19,18,18,24,25,26,20,18,17,34,31,14,14,14,14,29,40,40,40,46,46,13,10,8,8,21,31,27,30,27,27,34,34,34,34,26,26,35,29,13,18,32,23,5,12,20,20,20,20,39,30,29,29,29,29,17,29,29,29,29,17,17,17,6,6,13,28,28,28,28,28,20,14,14,14,22,17,37,32,28,28,40,27,32,28,28,30,15,26,35,36,36,36,27,11,11,11,11,11,11,31,25,40,32,25,25,27,36,25,25,39,32,32,32,32,32,22,21,40,34,34,34,29,29,40,31,17,17,17,17,39,56,8,32,32,37,30,24,22,22,33,33,33,33,40,40,27,25,20,59,56,62,51,26,38,38,38,38,62,26,35,29,27,29,28,28,27,25,25,25,22,29,24,24,24,36,36,39,21,21,36,36,36,34,25,30,30,28,28,28,23,23,23,31,32,43,18,31,31,15,15,30,26,28,28,17,27,50,50,50,36,29,20,20,46,38,38,38,28,91,91,40,19,28,54,27,27,27,27,27,46,46,46,46,46,18,18,43,38,38,34,34,34,34,36,27,46,25,29,29,26,26,26,26,26,43,32,30,31,19,20,28,91,91,35,46,10,34,46,46,46,23,26,26,26,26,26,46,31,17,17,21,36,32,34,37,37,37,37,31,22,22,22,22,22,40,40,40,31,35,26,26,64,31,36,35,35,28,28,37,26,26,26,37,37,37,37,37,37,26,26,35,43,43,40,47,47,47,47,47,47,47,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,34,34,31,37,80,80,80,33,33,40,40,40,40,43,53,53,72,72,72,40,40,37,32,41,29,40,64,22,21,21,21,21,21,21,35,36,40,43,37,31,31,31,32,40,40,40,40,40,40,40,51,36,36,36,36,38,41,37,37,37,37,37,37,46,37,34,36,36,36,36,36,38,38,47,40,40,34,34,50,50,29,37,27,43],n=[],i=0;i<a.length;i+=60)n.push(a[i]);for(var r=[],o=0;o<24;o++){var s=o.toString();o<10&&(s="0"+s);var l=s+":00";r.push(l)}this.setState(Object(J.a)(Object(J.a)({},this.state),{},{titleText:"\u9053\u8def\u62e5\u5835\u60c5\u51b5",extraInfoSwitch:2,extraInfoLineData:n,extraInfoLineDataxAxis:r}),(function(){t.resizeAllCharts()}));var c={type:"FeatureCollection",features:[{type:"Feature",properties:{color:e[0]},geometry:{type:"LineString",coordinates:[[116.326534,39.993866],[116.326624,39.991486]]}},{type:"Feature",properties:{color:e[2]},geometry:{type:"LineString",coordinates:[[116.326624,39.991486],[116.326964,39.984936]]}},{type:"Feature",properties:{color:e[1]},geometry:{type:"LineString",coordinates:[[116.326964,39.984936],[116.327105,39.982096]]}},{type:"Feature",properties:{color:e[1]},geometry:{type:"LineString",coordinates:[[116.327105,39.982096],[116.327225,39.979745]]}},{type:"Feature",properties:{color:e[1]},geometry:{type:"LineString",coordinates:[[116.327225,39.979745],[116.327405,39.975575]]}},{type:"Feature",properties:{color:e[1]},geometry:{type:"LineString",coordinates:[[116.327405,39.975575],[116.327585,39.972785]]}},{type:"Feature",properties:{color:e[2]},geometry:{type:"LineString",coordinates:[[116.327585,39.972785],[116.327895,39.966405]]}}]},p=c.features[c.features.length>>1].geometry.coordinates[0];this.mapbox.jumpTo({center:p,zoom:13,pitch:0,bearing:0}),this.mapbox.getLayer("line")?console.log("mapbox line layer exist"):(this.mapbox.addSource("line",{type:"geojson",lineMetrics:!0,data:c}),this.mapbox.addLayer({type:"line",source:"line",id:"line",paint:{"line-opacity":.8,"line-color":["get","color"],"line-width":8},layout:{"line-cap":"butt","line-join":"miter"}}),this.mapbox.addSource("linePoint",{type:"geojson",lineMetrics:!0,data:{type:"FeatureCollection",features:[{type:"Feature",properties:{description:"<strong>\u53cc\u6e05\u8def \u81f3 \u6210\u5e9c\u8def</strong><p>\u62e5\u5835\uff0c\u65f6\u901f20\u516c\u91cc</p>",icon:"bar"},geometry:{type:"Point",coordinates:[116.326579,39.992676]}},{type:"Feature",properties:{description:"<strong>\u6210\u5e9c\u8def \u81f3 \u5317\u56db\u73af\u897f\u8def\u8f85\u8def</strong><p>\u7545\u901a\uff0c\u65f6\u901f59\u516c\u91cc</p>",icon:"bar"},geometry:{type:"Point",coordinates:[116.326794,39.988151]}},{type:"Feature",properties:{description:"<strong>\u5317\u56db\u73af\u897f\u8def\u8f85\u8def \u81f3 \u4e2d\u5173\u6751\u5357\u4e00\u6761</strong><p>\u7f13\u6162\uff0c\u65f6\u901f34\u516c\u91cc</p>",icon:"bar"},geometry:{type:"Point",coordinates:[116.3270595,39.983146]}},{type:"Feature",properties:{description:"<strong>\u4e2d\u5173\u6751\u5357\u4e00\u6761 \u81f3 \u4e2d\u5173\u6751\u5357\u8def</strong><p>\u7f13\u6162\uff0c\u65f6\u901f40\u516c\u91cc</p>",icon:"bar"},geometry:{type:"Point",coordinates:[116.327185,39.98055]}},{type:"Feature",properties:{description:"<strong>\u4e2d\u5173\u6751\u5357\u8def \u81f3 \u77e5\u6625\u8def</strong><p>\u7f13\u6162\uff0c\u65f6\u901f27\u516c\u91cc</p>",icon:"bar"},geometry:{type:"Point",coordinates:[116.327315,39.97766]}}]}}),this.mapbox.addLayer({type:"symbol",id:"linePoint",source:"linePoint",layout:{"icon-image":"{icon}-15","icon-allow-overlap":!0}}),this.mapbox.on("click","linePoint",(function(e){for(var a=e.features[0].geometry.coordinates.slice(),n=e.features[0].properties.description;Math.abs(e.lngLat.lng-a[0])>180;)a[0]+=e.lngLat.lng>a[0]?360:-360;(new P.a.Popup).setLngLat(a).setHTML(n).addTo(t.mapbox)})),this.mapbox.on("mouseenter","linePoint",(function(){t.mapbox.getCanvas().style.cursor="pointer"})),this.mapbox.on("mouseleave","linePoint",(function(){t.mapbox.getCanvas().style.cursor=""})))}},{key:"resizeAllCharts",value:function(){this.echartsMapContainer=C.a.init(document.getElementById("mapContainer")),this.echartsMapContainer.resize(),C.a.init(document.getElementById("pie1")).resize(),C.a.init(document.getElementById("line1")).resize(),C.a.init(document.getElementById("dash1")).resize(),C.a.init(document.getElementById("line2")).resize(),C.a.init(document.getElementById("linePoint")).resize(),C.a.init(document.getElementById("pointLineInfo")).resize()}},{key:"componentDidMount",value:function(){window.onresize=this.resizeAllCharts,this.mapbox=this.mapRef.current.mapbox}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUnmount",value:function(){console.log("Analysis Destory"),this.store.clearAll(),this.mapbox=null}},{key:"render",value:function(){return i.a.createElement("div",{id:"analysisLayout"},i.a.createElement(O.a,{gutter:[16,0]},i.a.createElement(E.a,{span:24},i.a.createElement(U.a,{ghost:!1,onBack:function(){return window.history.back()},title:"\u4ea4\u901a\u62e5\u5835\u53ef\u89c6\u5316\u5206\u6790",extra:[i.a.createElement(V.a,{key:"1",type:"primary",onClick:this.onClickBtn1,loading:this.store.loading},"\u6d4b\u8bd5\u6570\u636e"),i.a.createElement(V.a,{key:"2",type:"primary",onClick:z(this.onClickBtn2,500),loading:this.store.loading},"\u6570\u636e\u8f6e\u64ad"),i.a.createElement(V.a,{key:"3",type:"primary",onClick:z(this.onClickBtn3,500),loading:this.store.loading},"\u5b9e\u65f6\u4ea4\u901a"),i.a.createElement(V.a,{key:"7",type:"primary",onClick:this.onClickBtn7,loading:this.store.loading},"\u7ebf\u8def\u5206\u6790"),i.a.createElement(V.a,{key:"8",type:"primary",onClick:this.onClickBtn8,loading:this.store.loading},"\u8282\u70b9\u5206\u6790"),i.a.createElement(V.a,{key:"4",type:"primary",onClick:z(this.onClickBtn4,500),loading:this.store.loading},"\u5c40\u90e8\u6f14\u793a"),i.a.createElement(V.a,{key:"5",type:"primary",onClick:z(this.onClickBtn5,500),loading:this.store.loading},"\u5168\u5c40\u6f14\u793a"),i.a.createElement(V.a,{key:"6",onClick:this.onClickBtn6,loading:this.store.loading},"\u5730\u56fe\u91cd\u7f6e")]}))),i.a.createElement(O.a,{gutter:[16,4]},i.a.createElement(E.a,{span:this.state.extraInfoSwitch>0?14:24,className:"mapContainer"},i.a.createElement(_,{mapContainerID:"mapContainer",chartsParam:this.state.chartsParam,data:"history"===this.state.dataType?this.state.data:this.store.dataGt,flyActionParam:this.state.flyActionParam,titleText:this.state.titleText,ref:this.mapRef})),i.a.createElement(E.a,{span:1===this.state.extraInfoSwitch?10:0},i.a.createElement(O.a,{gutter:[16,4]},i.a.createElement(E.a,{span:8},i.a.createElement(Q,{chartsDashID:"dash1"})),i.a.createElement(E.a,{span:16},i.a.createElement(Y,{chartsPieID:"pie1"}))),i.a.createElement(O.a,{gutter:[16,4]},i.a.createElement(K,{chartsLineID:"line1",titleText:"\u5f53\u65e524\u5c0f\u65f6\u5e73\u5747\u65f6\u901f\u53d8\u5316",data:this.state.extraInfoLineData,xAxisdata:this.state.extraInfoLineDataxAxis}))),i.a.createElement(E.a,{span:2===this.state.extraInfoSwitch?10:0},i.a.createElement(O.a,null,i.a.createElement(E.a,{span:24},i.a.createElement(Z.a,{title:"\u9053\u8def\u4fe1\u606f",layout:"horizontal",bordered:!0,column:1,size:"default"},i.a.createElement(Z.a.Item,{label:"\u9053\u8def\u540d\u79f0"},"\u4e2d\u5173\u6751\u4e1c\u8def"),i.a.createElement(Z.a.Item,{label:"\u9053\u8def\u65b9\u5411"},"\u7531\u5317\u5411\u5357"),i.a.createElement(Z.a.Item,{label:"\u65f6\u95f4"},"2020-09-14 09:12:00"),i.a.createElement(Z.a.Item,{label:"\u5e73\u5747\u901a\u884c\u901f\u5ea6"},"35km/h")))),i.a.createElement(O.a,{gutter:[16,4]},i.a.createElement(E.a,{span:24},i.a.createElement(K,{chartsLineID:"line2",titleText:"\u8be5\u9053\u8def24\u5c0f\u65f6\u901a\u884c\u65f6\u901f\u53d8\u5316",data:this.state.extraInfoLineData,xAxisdata:this.state.extraInfoLineDataxAxis})))),i.a.createElement(E.a,{span:3===this.state.extraInfoSwitch?10:0},i.a.createElement(O.a,null,i.a.createElement(E.a,{span:24},i.a.createElement(Z.a,{title:"\u8282\u70b9\u4fe1\u606f",layout:"horizontal",bordered:!0,column:1,size:"default"},i.a.createElement(Z.a.Item,{label:"\u8282\u70b9\u540d\u79f0"},"\u4e09\u5143\u6865"),i.a.createElement(Z.a.Item,{label:"\u8282\u70b9\u6240\u5728\u9053\u8def"},"\u5317\u4e09\u73af\u4e1c\u8def\u8f85\u8def\uff08\u5185\u73af\uff09"),i.a.createElement(Z.a.Item,{label:"\u9053\u8def\u65b9\u5411"},"\u7531\u897f\u5411\u4e1c"),i.a.createElement(Z.a.Item,{label:"\u65f6\u95f4"},"2020-09-14 09:12:00"),i.a.createElement(Z.a.Item,{label:"\u5e73\u5747\u901a\u884c\u901f\u5ea6"},"35km/h")))),i.a.createElement(O.a,{gutter:[16,4]},i.a.createElement(E.a,{span:24},i.a.createElement(K,{chartsLineID:"linePoint",titleText:"\u8be5\u8282\u70b9\u6240\u5728\u8def\u6bb524\u5c0f\u65f6\u901a\u884c\u65f6\u901f\u53d8\u5316",data:this.state.extraInfoLineData,xAxisdata:this.state.extraInfoLineDataxAxis}))))),i.a.createElement(O.a,{align:"middle",justify:"center"},i.a.createElement(E.a,{span:3===this.state.extraInfoSwitch?21:0,className:"lineContainer"},i.a.createElement(K,{chartsLineID:"pointLineInfo",titleText:this.state.pointLineTitle,data:this.state.pointLineData,xAxisdata:this.state.pointLineDataxAxis})),i.a.createElement(E.a,{span:3===this.state.extraInfoSwitch?3:0},i.a.createElement(V.a,{className:"marginbottom10",key:"pointbtn1",type:"primary",onClick:this.pointbtn1,loading:this.store.loading},"\u5de5\u4f5c\u65e5\u5206\u6790"),i.a.createElement(V.a,{className:"marginbottom10",key:"pointbtn2",type:"primary",onClick:this.pointbtn2,loading:this.store.loading},"\u8282\u5047\u65e5\u5206\u6790"),i.a.createElement(V.a,{className:"marginbottom10",key:"pointbtn3",type:"primary",onClick:this.pointbtn3,loading:this.store.loading},"\u957f\u5468\u671f\u5206\u6790"))))}}]),a}(n.Component))||B)||B,q=a(770),tt=a(367),et=(a(743),L.a.Option),at=Object(X.b)("store")(N=Object(X.c)(N=function(t){Object(c.a)(a,t);var e=Object(p.a)(a);function a(t){var n;return Object(s.a)(this,a),(n=e.call(this,t)).store=t.store.predictCompareStore,n.state={dataPred:{data:[],datatime:""},dataGt:{data:[],datatime:""},titleTextLeft:"",titleTextRight:"",mapParam:{style:"mapbox://styles/mapbox/outdoors-v11",center:[116.368608,39.901744],zoom:10,pitch:0,bearing:0},marks:{},sliderDisplay:"none",dataListIndex:0,historyPredDataPath:"./history_predictDataList/history_pred/lr_pred/",dataIndex:0,predictType:"lr"},n.DataGtNameList=null,n.DataPredNameList=null,n.asyncMapParam=n.asyncMapParam.bind(Object(j.a)(n)),n.historyPredict_local=n.historyPredict_local.bind(Object(j.a)(n)),n.historyPredict_online=n.historyPredict_online.bind(Object(j.a)(n)),n.realTimePredice=n.realTimePredice.bind(Object(j.a)(n)),n.sliderOnChange_local=n.sliderOnChange_local.bind(Object(j.a)(n)),n.selectOnChange_local=n.selectOnChange_local.bind(Object(j.a)(n)),n.sliderOnChange_online=n.sliderOnChange_online.bind(Object(j.a)(n)),n.selectOnChange_online=n.selectOnChange_online.bind(Object(j.a)(n)),n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){window.onresize=function(){C.a.init(document.getElementById("mapContainerLeft")).resize(),C.a.init(document.getElementById("mapContainerRight")).resize()}}},{key:"componentWillUnmount",value:function(){console.log("PredictionAnalysis Destory"),this.store.clearAll()}},{key:"asyncMapParam",value:function(t){this.setState(Object(J.a)(Object(J.a)({},this.state),{},{mapParam:t}))}},{key:"historyPredict_local",value:function(){this.DataGtNameList=S("2019-04-02_08-30","2019-04-02_08-39"),this.DataPredNameList=S("2019-04-02_08-30","2019-04-02_08-39");var t="./history_predictDataList/history_gt/"+this.DataGtNameList[0],e=this.state.historyPredDataPath+this.DataPredNameList[0];this.store.loaddata(t,"gt"),this.store.loaddata(e,"pred");for(var a={},n=0;n<this.DataGtNameList.length;n++){var r=this.DataGtNameList[n];a[n]={style:{width:"120px"},label:i.a.createElement("span",null,r.split(".")[0].split("_")[1].split("-").join(":"))}}this.setState(Object(J.a)(Object(J.a)({},this.state),{},{marks:a,sliderDisplay:"block",titleTextLeft:"\u771f\u5b9e\u62e5\u5835\u60c5\u51b5",titleTextRight:"\u62e5\u5835\u9884\u6d4b\u60c5\u51b5 LR\u6a21\u578b"}))}},{key:"historyPredict_online",value:function(){var t=this;this.DataGtNameList=S("2019-04-02_08-30","2019-04-02_08-39");for(var e={},a=0;a<this.DataGtNameList.length;a++){var n=this.DataGtNameList[a];e[a]={style:{width:"120px"},label:i.a.createElement("span",null,n.split(".")[0].split("_")[1].split("-").join(":"))}}this.setState(Object(J.a)(Object(J.a)({},this.state),{},{marks:e,sliderDisplay:"block",titleTextLeft:"\u771f\u5b9e\u62e5\u5835\u60c5\u51b5",titleTextRight:"\u62e5\u5835\u9884\u6d4b\u60c5\u51b5 LR\u6a21\u578b",dataIndex:0,predictType:"lr"}),(function(){var e={dataIndex:t.state.dataIndex},a={dataIndex:t.state.dataIndex,predictType:t.state.predictType};t.store.getHistoryGt(e),t.store.getHistoryPred(a)}))}},{key:"realTimePredice",value:function(){var t=this;this.setState(Object(J.a)(Object(J.a)({},this.state),{},{sliderDisplay:"none",titleTextLeft:"LR\u6a21\u578b\u9884\u6d4b",titleTextRight:"SAGE\u6a21\u578b\u9884\u6d4b"}),(function(){t.store.getPredLr(),t.store.getPredSage()}))}},{key:"sliderOnChange_local",value:function(t){var e=this;this.setState(Object(J.a)(Object(J.a)({},this.state),{},{dataListIndex:t}),(function(){var a="./history_predictDataList/history_gt/"+e.DataGtNameList[t],n=e.state.historyPredDataPath+e.DataGtNameList[t];e.store.loaddata(a,"gt"),e.store.loaddata(n,"pred")}))}},{key:"sliderOnChange_online",value:function(t){var e=this;this.setState(Object(J.a)(Object(J.a)({},this.state),{},{dataIndex:t}),(function(){var t={dataIndex:e.state.dataIndex},a={dataIndex:e.state.dataIndex,predictType:e.state.predictType};e.store.getHistoryGt(t),e.store.getHistoryPred(a)}))}},{key:"selectOnChange_local",value:function(t){var e=this,a=this.state.historyPredDataPath;"lr"===t?a="./history_predictDataList/history_pred/lr_pred/":"sage"===t&&(a="./history_predictDataList/history_pred/sage_pred/"),this.setState(Object(J.a)(Object(J.a)({},this.state),{},{titleTextRight:"\u62e5\u5835\u9884\u6d4b\u60c5\u51b5 "+t+"\u6a21\u578b",historyPredDataPath:a}),(function(){var t=e.state.historyPredDataPath+e.DataGtNameList[e.state.dataListIndex];e.store.loaddata(t,"pred")}))}},{key:"selectOnChange_online",value:function(t){var e=this;this.setState(Object(J.a)(Object(J.a)({},this.state),{},{predictType:t,titleTextRight:"\u62e5\u5835\u9884\u6d4b\u60c5\u51b5 "+t+"\u6a21\u578b"}),(function(){var t={dataIndex:e.state.dataIndex,predictType:e.state.predictType};e.store.getHistoryPred(t)}))}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(O.a,{gutter:[16,0]},i.a.createElement(E.a,{span:24},i.a.createElement(U.a,{ghost:!1,onBack:function(){return window.history.back()},title:"\u4ea4\u901a\u62e5\u5835\u9884\u6d4b\u5bf9\u6bd4",extra:[i.a.createElement(V.a,{key:"1",type:"primary",onClick:this.historyPredict_online,loading:this.store.loading},"\u52a0\u8f7d\u5386\u53f2\u9884\u6d4b\u5bf9\u6bd4\u6570\u636e"),i.a.createElement(V.a,{key:"2",type:"primary",onClick:T(this.realTimePredice,1e3),loading:this.store.loading},"\u4ea4\u901a\u62e5\u5835\u9884\u6d4b\u6a21\u578b\u5bf9\u6bd4")]}))),i.a.createElement(O.a,{align:"middle",justify:"center",gutter:[24,4]},i.a.createElement(E.a,{span:12},i.a.createElement(q.a,{min:0,max:this.DataGtNameList?this.DataGtNameList.length-1:0,marks:this.state.marks,value:this.state.dataIndex,included:!1,step:null,defaultValue:0,tooltipPlacement:"bottom",tooltipVisible:!1,style:{display:this.state.sliderDisplay},onChange:this.sliderOnChange_online,disabled:this.store.loading})),i.a.createElement(E.a,{span:12,className:"PredInfo"},i.a.createElement(Z.a,{layout:"vertical",bordered:!0,column:5,size:"small",style:{display:this.state.sliderDisplay}},i.a.createElement(Z.a.Item,{label:"\u7b97\u6cd5\u6a21\u578b"},i.a.createElement(L.a,{defaultValue:"lr",style:{width:"100%",display:this.state.sliderDisplay},onChange:this.selectOnChange_online,loading:this.store.loading,disabled:this.store.loading},i.a.createElement(et,{value:"lr"},"LR"),i.a.createElement(et,{value:"sage"},"SAGE"))),i.a.createElement(Z.a.Item,{label:i.a.createElement(tt.a,{content:i.a.createElement("div",null,i.a.createElement("p",null,"\u9884\u6d4b\u6b63\u786e\u8282\u70b9\u6570\u5360\u603b\u6570\u7684\u6bd4\u4f8b"))},"\u51c6\u786e\u7387")},this.store.scorePrecision+"%"),i.a.createElement(Z.a.Item,{label:i.a.createElement(tt.a,{content:i.a.createElement("div",null,i.a.createElement("p",null,"\u5404\u7c7b\u522b\u51c6\u786e\u7387\uff1a"),i.a.createElement("p",null,"\u901a\u7545\u51c6\u786e\u7387\uff1a",this.store.precisionClear+"%"),i.a.createElement("p",null,"\u7f13\u884c\u51c6\u786e\u7387\uff1a",this.store.precisionSlow+"%"),i.a.createElement("p",null,"\u62e5\u5835\u51c6\u786e\u7387\uff1a",this.store.precisionJam+"%"),i.a.createElement("p",null,"\u975e\u901a\u7545\u51c6\u786e\u7387\uff1a",this.store.precisionSlowJam+"%"))},"\u62e5\u5835\u51c6\u786e\u7387")},this.store.precisionJam+"%"),i.a.createElement(Z.a.Item,{label:i.a.createElement(tt.a,{content:i.a.createElement("div",null,i.a.createElement("p",null,"\u5e73\u5747\u7edd\u5bf9\u8bef\u5dee"))},"MAE")},this.store.scoreMAE),i.a.createElement(Z.a.Item,{label:i.a.createElement(tt.a,{content:i.a.createElement("div",null,i.a.createElement("p",null,"\u5e73\u5747\u7edd\u5bf9\u767e\u5206\u6bd4\u8bef\u5dee"))},"MAPE")},this.store.scoreMAPE+"%")))),i.a.createElement(O.a,{gutter:[16,4]},i.a.createElement(E.a,{span:12,className:"mapContainer"},i.a.createElement(_,{mapContainerID:"mapContainerLeft",titleText:this.state.titleTextLeft,chartsParam:{mapParam:this.state.mapParam},data:this.store.dataLeft,asyncParam:this.asyncMapParam})),i.a.createElement(E.a,{span:12,className:"mapContainer"},i.a.createElement(_,{mapContainerID:"mapContainerRight",titleText:this.state.titleTextRight,chartsParam:{mapParam:this.state.mapParam},data:this.store.dataRight,asyncParam:this.asyncMapParam}))))}}]),a}(n.Component))||N)||N,nt=m.a.Header,it=m.a.Content,rt=m.a.Footer,ot=m.a.Sider,st=(h.a.SubMenu,{"/analysis":{icon:i.a.createElement(b.a,null),name:"Analysis"},"/prediction":{icon:i.a.createElement(g.a,null),name:"Prediction"},"/team":{icon:i.a.createElement(f.a,null),name:"Team"},"/team/1":{icon:i.a.createElement(x.a,null),name:"Team1"}}),lt=[{path:"/",exact:!0,component:G},{path:"/analysis",exact:!0,component:$},{path:"/prediction",exact:!0,component:at}],ct=function(t){Object(c.a)(a,t);var e=Object(p.a)(a);function a(t){var n;return Object(s.a)(this,a),(n=e.call(this,t)).onCollapse=function(t){n.setState({collapsed:t})},n.state={collapsed:!1},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){}},{key:"getBreadcrumbItems",value:function(){var t=this.props.location.pathname.split("/").filter((function(t){return t})),e=t.map((function(e,a){var n="/".concat(t.slice(0,a+1).join("/"));return i.a.createElement(u.a.Item,{key:n},st[n].icon,i.a.createElement(d.b,{to:n},st[n].name))}));return[i.a.createElement(u.a.Item,{key:"home"},i.a.createElement(v.a,null),i.a.createElement(d.b,{to:"/"},"Home"))].concat(e)}},{key:"render",value:function(){var t=this.getBreadcrumbItems();return i.a.createElement(m.a,{style:{minHeight:"100vh"}},i.a.createElement(ot,{width:150,style:{overflow:"auto",height:"100vh",position:"fixed",left:0}},i.a.createElement("div",{className:"logo"}),i.a.createElement(h.a,{theme:"dark",defaultSelectedKeys:["1"],mode:"inline"},i.a.createElement(h.a.Item,{key:"2",icon:i.a.createElement(b.a,null)},i.a.createElement(d.b,{to:"/analysis"},"\u53ef\u89c6\u5206\u6790")),i.a.createElement(h.a.Item,{key:"3",icon:i.a.createElement(g.a,null)},i.a.createElement(d.b,{to:"/prediction"},"\u9884\u6d4b\u5206\u6790")))),i.a.createElement(m.a,{className:"site-layout",style:{marginLeft:150}},i.a.createElement(nt,{className:"site-layout-background header-title",style:{padding:0}},"\u4ea4\u901a\u6570\u636e\u53ef\u89c6\u5316\u5206\u6790\u7cfb\u7edf"),i.a.createElement(it,{style:{margin:"0 16px",overflow:"initial"}},i.a.createElement(u.a,{style:{margin:"16px 0"}},t),i.a.createElement("div",{id:"site-layout-content",className:"site-layout-background site-layout-content"},lt.map((function(t,e){return i.a.createElement(y.a,{key:e,path:t.path,exact:t.exact,component:t.component})})))),i.a.createElement(rt,{style:{textAlign:"center"}},"Traffic Vis System \xa92020 Created by STDAL")))}}]),a}(n.Component),pt=Object(y.e)(ct),mt=(a(747),a(63)),ht=a(41),ut=(a(337),a(9)),dt=a(360),yt=a.n(dt).a.create({baseURL:"http://39.105.230.32:5000/",timeout:12e4,withCredentials:!0});yt.interceptors.response.use((function(t){return t.data}),(function(t){console.log("error",t,t.response);var e=t.response;if(void 0===e)W.b.error("undefined \u52a0\u8f7d\u540e\u53f0\u6570\u636e\u51fa\u9519");else{var a=[e.status,e.statusText].join(",");W.b.error("\u9519\u8bef\u4fe1\u606f:"+a)}}));var bt,gt,ft,xt,vt,Ot,Et,kt,jt,Lt,wt,Pt,Dt,Ct,It=yt,St=a(243),Tt=a.n(St),zt=new(bt=function(){function t(){Object(s.a)(this,t),Object(mt.a)(this,"dataLeft",gt,this),Object(mt.a)(this,"dataRight",ft,this),Object(mt.a)(this,"loading",xt,this),Object(mt.a)(this,"scorePrecision",vt,this),Object(mt.a)(this,"scoreMAE",Ot,this),Object(mt.a)(this,"scoreMAPE",Et,this),Object(mt.a)(this,"precisionClear",kt,this),Object(mt.a)(this,"precisionSlow",jt,this),Object(mt.a)(this,"precisionJam",Lt,this),Object(mt.a)(this,"precisionSlowJam",wt,this)}return Object(l.a)(t,[{key:"loaddata",value:function(){var t=Object(H.a)(F.a.mark((function t(e,a){var n,i,r;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={data:[],datatime:""},t.next=3,fetch(e);case 3:return i=t.sent,t.next=6,i.json();case 6:void 0===(r=(r=t.sent).data)?W.b.warning("\u83b7\u53d6\u6570\u636e\u5931\u8d25"):(r=A(r),n.data=r,n.datatime=e.split("/")[e.split("/").length-1].split(".")[0]),"gt"===a?this.dataLeft=n:"pred"===a?this.dataRight=n:W.b.warning("loaddata param error");case 10:case"end":return t.stop()}}),t,this)})));return function(e,a){return t.apply(this,arguments)}}()},{key:"getHistoryGt",value:function(){var t=Object(H.a)(F.a.mark((function t(e){var a,n,i;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,It.get("data/history/gt?"+Tt.a.stringify(e));case 3:a=t.sent,this.loading=!1,void 0===a?W.b.error("\u540e\u7aef\u6570\u636e undefined"):(n={data:[],datatime:""},i=A(i=a.data),n.data=i,n.datatime=a.jsonName,this.dataLeft=n,console.log(a));case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getHistoryPred",value:function(){var t=Object(H.a)(F.a.mark((function t(e){var a,n,i;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,It.get("data/history/pred?"+Tt.a.stringify(e));case 3:a=t.sent,this.loading=!1,void 0===a?W.b.error("\u540e\u7aef\u6570\u636e undefined"):(n={data:[],datatime:""},i=A(i=a.data),n.data=i,n.datatime=a.jsonName,this.dataRight=n,this.scorePrecision=a.scorePrecision,this.scoreMAE=a.scoreMAE,this.scoreMAPE=a.scoreMAPE,this.precisionClear=a.precisionClear,this.precisionSlow=a.precisionSlow,this.precisionJam=a.precisionJam,this.precisionSlowJam=a.precisionSlowJam,console.log(a));case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getPredLr",value:function(){var t=Object(H.a)(F.a.mark((function t(e){var a,n,i;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,It.get("data/predict/lr");case 3:a=t.sent,this.loading=!1,n={data:[],datatime:""},void 0===a?W.b.error("\u540e\u7aef\u6570\u636e undefined"):(i=A(i=a.data),n.data=i,n.datatime=a.jsonName,this.dataLeft=n,console.log(a));case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getPredSage",value:function(){var t=Object(H.a)(F.a.mark((function t(e){var a,n,i;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,It.get("data/predict/sage");case 3:a=t.sent,this.loading=!1,n={data:[],datatime:""},void 0===a?W.b.error("\u540e\u7aef\u6570\u636e undefined"):(i=A(i=a.data),n.data=i,n.datatime=a.jsonName,this.dataRight=n,console.log(a));case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"clearAll",value:function(){var t=Object(H.a)(F.a.mark((function t(){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.dataLeft=[],this.dataRight=[];case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}(),gt=Object(ht.a)(bt.prototype,"dataLeft",[ut.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ft=Object(ht.a)(bt.prototype,"dataRight",[ut.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),xt=Object(ht.a)(bt.prototype,"loading",[ut.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vt=Object(ht.a)(bt.prototype,"scorePrecision",[ut.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ot=Object(ht.a)(bt.prototype,"scoreMAE",[ut.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Et=Object(ht.a)(bt.prototype,"scoreMAPE",[ut.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),kt=Object(ht.a)(bt.prototype,"precisionClear",[ut.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),jt=Object(ht.a)(bt.prototype,"precisionSlow",[ut.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Lt=Object(ht.a)(bt.prototype,"precisionJam",[ut.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),wt=Object(ht.a)(bt.prototype,"precisionSlowJam",[ut.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(ht.a)(bt.prototype,"loaddata",[ut.f],Object.getOwnPropertyDescriptor(bt.prototype,"loaddata"),bt.prototype),Object(ht.a)(bt.prototype,"getHistoryGt",[ut.f],Object.getOwnPropertyDescriptor(bt.prototype,"getHistoryGt"),bt.prototype),Object(ht.a)(bt.prototype,"getHistoryPred",[ut.f],Object.getOwnPropertyDescriptor(bt.prototype,"getHistoryPred"),bt.prototype),Object(ht.a)(bt.prototype,"getPredLr",[ut.f],Object.getOwnPropertyDescriptor(bt.prototype,"getPredLr"),bt.prototype),Object(ht.a)(bt.prototype,"getPredSage",[ut.f],Object.getOwnPropertyDescriptor(bt.prototype,"getPredSage"),bt.prototype),Object(ht.a)(bt.prototype,"clearAll",[ut.f],Object.getOwnPropertyDescriptor(bt.prototype,"clearAll"),bt.prototype),bt),At={analysisStore:new(Pt=function(){function t(){Object(s.a)(this,t),Object(mt.a)(this,"dataGt",Dt,this),Object(mt.a)(this,"loading",Ct,this)}return Object(l.a)(t,[{key:"getRealTimeData",value:function(){var t=Object(H.a)(F.a.mark((function t(e){var a,n,i;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,It.get("data");case 3:a=t.sent,this.loading=!1,n={data:[],datatime:""},void 0===a?W.b.error("\u540e\u7aef\u6570\u636e undefined"):(i=A(i=a.data),n.data=i,n.datatime=a.jsonName,this.dataGt=n,console.log(a));case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"clearAll",value:function(){var t=Object(H.a)(F.a.mark((function t(){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.dataGt=[];case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}(),Dt=Object(ht.a)(Pt.prototype,"dataGt",[ut.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ct=Object(ht.a)(Pt.prototype,"loading",[ut.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(ht.a)(Pt.prototype,"getRealTimeData",[ut.f],Object.getOwnPropertyDescriptor(Pt.prototype,"getRealTimeData"),Pt.prototype),Object(ht.a)(Pt.prototype,"clearAll",[ut.f],Object.getOwnPropertyDescriptor(Pt.prototype,"clearAll"),Pt.prototype),Pt),predictCompareStore:zt};var Bt=function(){return i.a.createElement(X.a,{store:At},i.a.createElement(d.a,null,i.a.createElement(pt,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(Bt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[391,1,2]]]);
//# sourceMappingURL=main.12626b0b.chunk.js.map